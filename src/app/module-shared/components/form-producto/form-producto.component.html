<div class="contenedor">
    <p *ngIf="mensaje" class="mensaje">¡El producto se ha guardado correctamente! <i class="icofont-check-circled"></i></p>
    <div class="form">
        <h2 class="form__title">{{title}}</h2>
        <form [formGroup]="fg">
            <div class="form__block">
                <label class="form__label" for="name">Nombre:</label>
                <input class="form__campo" type="text" id="name" formControlName="name">
                <span class="form__error" *ngIf="fg.get('name')?.touched && fg.get('name')?.errors">Este campo debe contener como mínimo 3 caracteres</span>
            </div>
            <div class="form__block">
                <label class="form__label" for="description">Descripción:</label>
                <textarea rows="5" class="form__campo" type="text" id="description" formControlName="description"></textarea>
                <span class="form__error" *ngIf="fg.get('description')?.touched && fg.get('description')?.errors">Este campo debe contener como mínimo 10 caracteres</span>
            </div>
            <div class="form__block">
                <label class="form__label" for="price">Precio</label>
                <input class="form__campo" placeholder="$" type="number" id="price" formControlName="price">
                <span class="form__error" *ngIf="fg.get('price')?.touched && fg.get('price')?.errors">Este campo es obligatorio</span>
            </div>
            <div class="form__block">
                <label class="form__label" for="categoria">Categoría:</label>
                <select class="form__campo" name="categoria" id="categoria" formControlName="categoria">
                    <option class="form__campo--sel" value="pan">Pan</option>
                    <option class="form__campo--sel" value="bolleria">Bollería</option>
                    <option class="form__campo--sel" value="pasteles">Pasteles</option>
                </select>
                <span class="form__error" *ngIf="fg.get('categoria')?.touched && fg.get('categoria')?.errors">Debe seleccionar una categoría</span>
            </div>
            <div class="form__block">
                <label class="form__label" for="imagen">Seleccionar imagen: <i class="icofont-image"></i></label>
                <input hidden class="form__campo" formControlName="imagen" type="file" id="imagen"  (change)="handleImage($event)">
                <span class="form__error" *ngIf="fg.get('imagen')?.touched && fg.get('imagen')?.errors">Debe seleccionar una imagen</span>
            </div>
            <div class="form__send">
                <button *ngIf="rutaAdd" class="form__button" [disabled]="fg.invalid" [ngStyle]="{'filter': fg.invalid ? 'brightness(.5)' : 'brightness(1)'}" (click)="send()">Guardar</button>
                <button *ngIf="!rutaAdd" class="form__button" [disabled]="fg.invalid" [ngStyle]="{'filter': fg.invalid ? 'brightness(.5)' : 'brightness(1)'}" (click)="edit()">Editar</button>
            </div>
        </form>
    </div>
    <div class="producto">
        <h2>Previsualización</h2>
        <div class="producto__container">
            <div class="producto__principal">
                <img *ngIf="productoNew.img" class="producto__imagen" src="{{productoNew.img}}" alt="">
                <img *ngIf="!productoNew.img" class="producto__imagen producto__imagen" src="assets/img/img.jpg" alt="">
                <h4>{{productoNew.nombre}}</h4>
            </div>
            <div class="producto__description">
                <p>{{productoNew.descripcion}}</p>
                <span>{{productoNew.precio | currency}}</span>
            </div>
        </div>
    </div>
</div>